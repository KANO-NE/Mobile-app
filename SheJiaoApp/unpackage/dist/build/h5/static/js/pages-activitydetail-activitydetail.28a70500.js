(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activitydetail-activitydetail"],{"2b8b":function(t,i,e){"use strict";e.r(i);var a=e("5c4a"),n=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(r);i["default"]=n.a},"4b13":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return r})),e.d(i,"a",(function(){return a}));var a={uniFormsItem:e("3423").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticStyle:{"background-image":"linear-gradient(to bottom, #3CB371, #ffffff)","min-height":"100vh"}},[e("v-uni-view",{},[e("v-uni-view",{staticStyle:{padding:"60rpx 0rpx","font-size":"32rpx","font-weight":"700","text-align":"center",color:"#FFFFFF"}},[t._v(t._s(t.activityData.name))])],1),e("v-uni-view",{staticClass:"box",staticStyle:{margin:"0rpx 30rpx"}},[e("v-uni-view",{staticStyle:{display:"flex"}},[e("v-uni-view",{staticStyle:{flex:"1"}},[e("img",{staticStyle:{height:"200rpx",width:"200rpx"},attrs:{src:t.activityData.img||"http://localhost:9090/files/default.png",alt:""}})]),e("v-uni-view",{staticStyle:{flex:"3","margin-left":"20rpx"}},[e("v-uni-view",[e("span",{staticStyle:{"font-weight":"700","font-size":"32rpx"}},[t._v("活动发起人：")]),t._v(t._s(t.activityData.userName))]),e("v-uni-view",{staticStyle:{"margin-top":"10rpx"}},[e("span",{staticStyle:{"font-weight":"700","font-size":"32rpx"}},[t._v("活动编号：")]),t._v(t._s(t.activityData.id))])],1)],1),e("v-uni-view",{staticStyle:{"margin-top":"10rpx",overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},[e("span",{staticStyle:{"font-weight":"700"}},[t._v("活动简介：")]),t._v(t._s(t.activityData.introduce))]),e("v-uni-view",{staticStyle:{margin:"20rpx 0rpx"}},[e("span",{staticStyle:{"font-weight":"700"}},[t._v("活动时间：")]),t._v(t._s(t.activityData.time))]),e("v-uni-view",[e("span",{staticStyle:{"font-weight":"700"}},[t._v("活动人数：")]),t._v(t._s(t.activityData.num))])],1),e("v-uni-view",{staticClass:"box",staticStyle:{margin:"20rpx 30rpx"}},[e("v-uni-view",{staticStyle:{"font-weight":"700","font-size":"28rpx"}},[t._v("活动成员：")]),e("v-uni-view",{staticStyle:{display:"flex"}},t._l(t.activitymember,(function(i){return e("v-uni-view",{key:i.id,staticStyle:{flex:"1"}},[e("v-uni-view",{staticStyle:{"margin-top":"10rpx"}},[e("img",{staticStyle:{height:"100rpx",width:"100rpx","border-radius":"20rpx"},attrs:{src:i.userImg||"http://localhost:9090/files/default_img.png",alt:""}})]),e("v-uni-view",[t._v(t._s(i.userName))])],1)})),1)],1),e("v-uni-view",{staticStyle:{margin:"30rpx"}},[e("uni-forms-item",[e("v-uni-button",{staticStyle:{width:"100%",height:"80rpx","line-height":"70rpx","background-color":"#06CC8A","border-color":"#006eff"},attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addActivity.apply(void 0,arguments)}}},[t._v("加 入")])],1)],1)],1)},r=[]},"5c4a":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{user:uni.getStorageSync("xm-user"),activityData:[],activitymember:{}}},onLoad:function(t){var i=t.ActivityId;this.load(i),this.loadActivityMember(i)},methods:{loadActivityMember:function(t){var i=this;this.$request.get("/activityrecords/selectByActivityId?id="+t).then((function(t){i.activitymember=t.data||{}}))},load:function(t){var i=this;this.$request.get("/activity/selectById?id="+t).then((function(t){i.activityData=t.data||{}}))},addActivity:function(){if(this.user.id){var t=this.activityData.id,i={activityId:this.activityData.id,userId:this.user.id};this.$request.post("/activityrecords/add",i).then((function(i){"200"===i.code?(uni.showToast({icon:"success",title:"操作成功"}),console.log(t),uni.reLaunch({url:"/pages/activitydetail/activitydetail?ActivityId="+t})):uni.showToast({icon:"none",title:i.msg})}))}else uni.showToast({icon:"none",title:"请登录后加入！"})}}};i.default=a},"9c5b":function(t,i,e){"use strict";e.r(i);var a=e("4b13"),n=e("2b8b");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(r);var c=e("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"6284791d",null,!1,a["a"],void 0);i["default"]=s.exports}}]);